{"ast":null,"code":"var _jsxFileName = \"H:\\\\camera\\\\project_root\\\\frontend\\\\src\\\\pages\\\\RobotController.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { FiCpu, FiMic } from 'react-icons/fi';\nimport API from '../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RobotController() {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [recognizedName, setRecognizedName] = useState('');\n  const [collegeName, setCollegeName] = useState('');\n  const [robotMessage, setRobotMessage] = useState('');\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [faceBox, setFaceBox] = useState(null);\n  useEffect(() => {\n    fetchCollegeName();\n    const interval = setInterval(fetchRecognition, 1500);\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    const drawOverlay = () => {\n      const canvas = canvasRef.current;\n      const ctx = canvas === null || canvas === void 0 ? void 0 : canvas.getContext('2d');\n      const img = videoRef.current;\n      if (!canvas || !ctx || !img) return;\n      canvas.width = img.width;\n      canvas.height = img.height;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      if (faceBox && faceBox.bbox) {\n        const [x1, y1, x2, y2] = faceBox.bbox;\n        ctx.save();\n        ctx.strokeStyle = faceBox.name === 'Unknown' ? 'red' : 'lime';\n        ctx.lineWidth = 4;\n        ctx.strokeRect(x1, y1, x2 - x1, y2 - y1);\n        ctx.font = 'bold 1.2rem sans-serif';\n        ctx.fillStyle = 'rgba(0,0,0,0.7)';\n        ctx.fillRect(x1, y1 - 28, ctx.measureText(faceBox.name).width + 20, 28);\n        ctx.fillStyle = '#fff';\n        ctx.fillText(faceBox.name, x1 + 10, y1 - 8);\n        ctx.restore();\n      } else {\n        ctx.save();\n        ctx.globalAlpha = 0.7;\n        ctx.fillStyle = '#222';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        ctx.globalAlpha = 1;\n        ctx.fillStyle = '#fff';\n        ctx.font = 'bold 2rem sans-serif';\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        ctx.fillText('No face recognized', canvas.width / 2, canvas.height / 2);\n        ctx.restore();\n      }\n    };\n    drawOverlay();\n    const img = videoRef.current;\n    let observer;\n    if (img && window.ResizeObserver) {\n      observer = new window.ResizeObserver(drawOverlay);\n      observer.observe(img);\n    }\n    if (videoRef.current) videoRef.current._drawOverlay = drawOverlay;\n    return () => {\n      if (observer && img) observer.unobserve(img);\n      if (videoRef.current && videoRef.current._drawOverlay) delete videoRef.current._drawOverlay;\n    };\n  }, [faceBox]);\n  const fetchCollegeName = async () => {\n    try {\n      const res = await API.get('/college_info');\n      const info = res.data && res.data.length > 0 ? res.data[0] : null;\n      setCollegeName(info ? info.content : 'Your College');\n    } catch (error) {\n      setCollegeName('Error: Could not load college name');\n      console.error('Failed to load college name', error);\n    }\n  };\n  const fetchRecognition = async () => {\n    try {\n      const res = await API.get('/recognized_face');\n      const {\n        name,\n        confidence,\n        bbox\n      } = res.data;\n      setFaceBox({\n        name,\n        bbox\n      });\n      if (name && name !== recognizedName && name !== 'Unknown' && name !== 'No face') {\n        setRecognizedName(name);\n        const message = `Hi ${name}, I am the robot assistant of ${collegeName}. How can I help you today?`;\n        speak(message);\n        setRobotMessage(message);\n        logChat(name, message);\n      } else if (name === 'Unknown') {\n        setRecognizedName('');\n        setRobotMessage('');\n      }\n    } catch (err) {\n      setRobotMessage('Error: Unable to connect to backend.');\n      setRecognizedName('');\n      setFaceBox(null);\n      console.error('Recognition fetch failed:', err);\n    }\n  };\n  const speak = text => {\n    const synth = window.speechSynthesis;\n    const utterance = new window.SpeechSynthesisUtterance(text);\n    utterance.lang = 'en-US';\n    synth.speak(utterance);\n    setIsSpeaking(true);\n    utterance.onend = () => setIsSpeaking(false);\n  };\n  const logChat = async (user, msg) => {\n    try {\n      await API.post('/chatlog', {\n        sender: 'robot',\n        receiver: user,\n        message: msg\n      });\n    } catch (err) {\n      console.error('Failed to log chat:', err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 fade-in max-w-5xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-card p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 rounded-xl bg-gradient-to-r from-purple-600 to-indigo-600 text-white\",\n          children: /*#__PURE__*/_jsxDEV(FiCpu, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold gradient-text\",\n            children: \"Robot Assistant Interface\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 dark:text-gray-300\",\n            children: \"Simulated robot behavior with voice and vision\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card overflow-hidden relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          ref: videoRef,\n          src: \"http://localhost:5000/video_feed\",\n          alt: \"Robot Camera\",\n          className: \"w-full h-auto rounded-xl\",\n          onLoad: () => {\n            if (videoRef.current && videoRef.current._drawOverlay) {\n              videoRef.current._drawOverlay();\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          className: \"absolute top-0 left-0 w-full h-full pointer-events-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card p-6 flex flex-col justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold mb-4 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(FiMic, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), \" Robot Canvas Display\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-800 dark:text-gray-200 whitespace-pre-wrap\",\n            children: robotMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-sm text-gray-600 dark:text-gray-300\",\n          children: [\"College: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: collegeName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n}\n_s(RobotController, \"WpVw6oSAMoCPM2OOmTxxMQ6hDPQ=\");\n_c = RobotController;\nvar _c;\n$RefreshReg$(_c, \"RobotController\");","map":{"version":3,"names":["React","useEffect","useRef","useState","FiCpu","FiMic","API","jsxDEV","_jsxDEV","RobotController","_s","videoRef","canvasRef","recognizedName","setRecognizedName","collegeName","setCollegeName","robotMessage","setRobotMessage","isSpeaking","setIsSpeaking","faceBox","setFaceBox","fetchCollegeName","interval","setInterval","fetchRecognition","clearInterval","drawOverlay","canvas","current","ctx","getContext","img","width","height","clearRect","bbox","x1","y1","x2","y2","save","strokeStyle","name","lineWidth","strokeRect","font","fillStyle","fillRect","measureText","fillText","restore","globalAlpha","textAlign","textBaseline","observer","window","ResizeObserver","observe","_drawOverlay","unobserve","res","get","info","data","length","content","error","console","confidence","message","speak","logChat","err","text","synth","speechSynthesis","utterance","SpeechSynthesisUtterance","lang","onend","user","msg","post","sender","receiver","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","ref","src","alt","onLoad","_c","$RefreshReg$"],"sources":["H:/camera/project_root/frontend/src/pages/RobotController.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { FiCpu, FiMic } from 'react-icons/fi';\r\nimport API from '../utils/api';\r\n\r\nexport default function RobotController() {\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n\r\n  const [recognizedName, setRecognizedName] = useState('');\r\n  const [collegeName, setCollegeName] = useState('');\r\n  const [robotMessage, setRobotMessage] = useState('');\r\n  const [isSpeaking, setIsSpeaking] = useState(false);\r\n  const [faceBox, setFaceBox] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchCollegeName();\r\n    const interval = setInterval(fetchRecognition, 1500);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const drawOverlay = () => {\r\n      const canvas = canvasRef.current;\r\n      const ctx = canvas?.getContext('2d');\r\n      const img = videoRef.current;\r\n      if (!canvas || !ctx || !img) return;\r\n      canvas.width = img.width;\r\n      canvas.height = img.height;\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      if (faceBox && faceBox.bbox) {\r\n        const [x1, y1, x2, y2] = faceBox.bbox;\r\n        ctx.save();\r\n        ctx.strokeStyle = faceBox.name === 'Unknown' ? 'red' : 'lime';\r\n        ctx.lineWidth = 4;\r\n        ctx.strokeRect(x1, y1, x2 - x1, y2 - y1);\r\n        ctx.font = 'bold 1.2rem sans-serif';\r\n        ctx.fillStyle = 'rgba(0,0,0,0.7)';\r\n        ctx.fillRect(x1, y1 - 28, ctx.measureText(faceBox.name).width + 20, 28);\r\n        ctx.fillStyle = '#fff';\r\n        ctx.fillText(faceBox.name, x1 + 10, y1 - 8);\r\n        ctx.restore();\r\n      } else {\r\n        ctx.save();\r\n        ctx.globalAlpha = 0.7;\r\n        ctx.fillStyle = '#222';\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        ctx.globalAlpha = 1;\r\n        ctx.fillStyle = '#fff';\r\n        ctx.font = 'bold 2rem sans-serif';\r\n        ctx.textAlign = 'center';\r\n        ctx.textBaseline = 'middle';\r\n        ctx.fillText('No face recognized', canvas.width / 2, canvas.height / 2);\r\n        ctx.restore();\r\n      }\r\n    };\r\n\r\n    drawOverlay();\r\n\r\n    const img = videoRef.current;\r\n    let observer;\r\n    if (img && window.ResizeObserver) {\r\n      observer = new window.ResizeObserver(drawOverlay);\r\n      observer.observe(img);\r\n    }\r\n    if (videoRef.current) videoRef.current._drawOverlay = drawOverlay;\r\n\r\n    return () => {\r\n      if (observer && img) observer.unobserve(img);\r\n      if (videoRef.current && videoRef.current._drawOverlay) delete videoRef.current._drawOverlay;\r\n    };\r\n  }, [faceBox]);\r\n\r\n  const fetchCollegeName = async () => {\r\n    try {\r\n      const res = await API.get('/college_info');\r\n      const info = res.data && res.data.length > 0 ? res.data[0] : null;\r\n      setCollegeName(info ? info.content : 'Your College');\r\n    } catch (error) {\r\n      setCollegeName('Error: Could not load college name');\r\n      console.error('Failed to load college name', error);\r\n    }\r\n  };\r\n\r\n  const fetchRecognition = async () => {\r\n    try {\r\n      const res = await API.get('/recognized_face');\r\n      const { name, confidence, bbox } = res.data;\r\n      setFaceBox({ name, bbox });\r\n      if (name && name !== recognizedName && name !== 'Unknown' && name !== 'No face') {\r\n        setRecognizedName(name);\r\n        const message = `Hi ${name}, I am the robot assistant of ${collegeName}. How can I help you today?`;\r\n        speak(message);\r\n        setRobotMessage(message);\r\n        logChat(name, message);\r\n      } else if (name === 'Unknown') {\r\n        setRecognizedName('');\r\n        setRobotMessage('');\r\n      }\r\n    } catch (err) {\r\n      setRobotMessage('Error: Unable to connect to backend.');\r\n      setRecognizedName('');\r\n      setFaceBox(null);\r\n      console.error('Recognition fetch failed:', err);\r\n    }\r\n  };\r\n\r\n  const speak = (text) => {\r\n    const synth = window.speechSynthesis;\r\n    const utterance = new window.SpeechSynthesisUtterance(text);\r\n    utterance.lang = 'en-US';\r\n    synth.speak(utterance);\r\n    setIsSpeaking(true);\r\n    utterance.onend = () => setIsSpeaking(false);\r\n  };\r\n\r\n  const logChat = async (user, msg) => {\r\n    try {\r\n      await API.post('/chatlog', {\r\n        sender: 'robot',\r\n        receiver: user,\r\n        message: msg,\r\n      });\r\n    } catch (err) {\r\n      console.error('Failed to log chat:', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6 fade-in max-w-5xl mx-auto\">\r\n      <div className=\"glass-card p-6\">\r\n        <div className=\"flex items-center space-x-3\">\r\n          <div className=\"p-3 rounded-xl bg-gradient-to-r from-purple-600 to-indigo-600 text-white\">\r\n            <FiCpu size={24} />\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold gradient-text\">Robot Assistant Interface</h1>\r\n            <p className=\"text-gray-600 dark:text-gray-300\">Simulated robot behavior with voice and vision</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Video Feed */}\r\n        <div className=\"glass-card overflow-hidden relative\">\r\n          <img\r\n            ref={videoRef}\r\n            src=\"http://localhost:5000/video_feed\"\r\n            alt=\"Robot Camera\"\r\n            className=\"w-full h-auto rounded-xl\"\r\n            onLoad={() => {\r\n              if (videoRef.current && videoRef.current._drawOverlay) {\r\n                videoRef.current._drawOverlay();\r\n              }\r\n            }}\r\n          />\r\n          <canvas ref={canvasRef} className=\"absolute top-0 left-0 w-full h-full pointer-events-none\" />\r\n        </div>\r\n\r\n        {/* Robot Display */}\r\n        <div className=\"glass-card p-6 flex flex-col justify-between\">\r\n          <div>\r\n            <h2 className=\"text-xl font-bold mb-4 flex items-center\">\r\n              <FiMic className=\"mr-2\" /> Robot Canvas Display\r\n            </h2>\r\n            <div className=\"text-gray-800 dark:text-gray-200 whitespace-pre-wrap\">{robotMessage}</div>\r\n          </div>\r\n          <div className=\"mt-4 text-sm text-gray-600 dark:text-gray-300\">\r\n            College: <span className=\"font-semibold\">{collegeName}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,KAAK,EAAEC,KAAK,QAAQ,gBAAgB;AAC7C,OAAOC,GAAG,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,eAAe,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EACxC,MAAMC,QAAQ,GAAGT,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMU,SAAS,GAAGV,MAAM,CAAC,IAAI,CAAC;EAE9B,MAAM,CAACW,cAAc,EAAEC,iBAAiB,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAE5CF,SAAS,CAAC,MAAM;IACdsB,gBAAgB,CAAC,CAAC;IAClB,MAAMC,QAAQ,GAAGC,WAAW,CAACC,gBAAgB,EAAE,IAAI,CAAC;IACpD,OAAO,MAAMC,aAAa,CAACH,QAAQ,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;EAENvB,SAAS,CAAC,MAAM;IACd,MAAM2B,WAAW,GAAGA,CAAA,KAAM;MACxB,MAAMC,MAAM,GAAGjB,SAAS,CAACkB,OAAO;MAChC,MAAMC,GAAG,GAAGF,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,UAAU,CAAC,IAAI,CAAC;MACpC,MAAMC,GAAG,GAAGtB,QAAQ,CAACmB,OAAO;MAC5B,IAAI,CAACD,MAAM,IAAI,CAACE,GAAG,IAAI,CAACE,GAAG,EAAE;MAC7BJ,MAAM,CAACK,KAAK,GAAGD,GAAG,CAACC,KAAK;MACxBL,MAAM,CAACM,MAAM,GAAGF,GAAG,CAACE,MAAM;MAC1BJ,GAAG,CAACK,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEP,MAAM,CAACK,KAAK,EAAEL,MAAM,CAACM,MAAM,CAAC;MAChD,IAAId,OAAO,IAAIA,OAAO,CAACgB,IAAI,EAAE;QAC3B,MAAM,CAACC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,CAAC,GAAGpB,OAAO,CAACgB,IAAI;QACrCN,GAAG,CAACW,IAAI,CAAC,CAAC;QACVX,GAAG,CAACY,WAAW,GAAGtB,OAAO,CAACuB,IAAI,KAAK,SAAS,GAAG,KAAK,GAAG,MAAM;QAC7Db,GAAG,CAACc,SAAS,GAAG,CAAC;QACjBd,GAAG,CAACe,UAAU,CAACR,EAAE,EAAEC,EAAE,EAAEC,EAAE,GAAGF,EAAE,EAAEG,EAAE,GAAGF,EAAE,CAAC;QACxCR,GAAG,CAACgB,IAAI,GAAG,wBAAwB;QACnChB,GAAG,CAACiB,SAAS,GAAG,iBAAiB;QACjCjB,GAAG,CAACkB,QAAQ,CAACX,EAAE,EAAEC,EAAE,GAAG,EAAE,EAAER,GAAG,CAACmB,WAAW,CAAC7B,OAAO,CAACuB,IAAI,CAAC,CAACV,KAAK,GAAG,EAAE,EAAE,EAAE,CAAC;QACvEH,GAAG,CAACiB,SAAS,GAAG,MAAM;QACtBjB,GAAG,CAACoB,QAAQ,CAAC9B,OAAO,CAACuB,IAAI,EAAEN,EAAE,GAAG,EAAE,EAAEC,EAAE,GAAG,CAAC,CAAC;QAC3CR,GAAG,CAACqB,OAAO,CAAC,CAAC;MACf,CAAC,MAAM;QACLrB,GAAG,CAACW,IAAI,CAAC,CAAC;QACVX,GAAG,CAACsB,WAAW,GAAG,GAAG;QACrBtB,GAAG,CAACiB,SAAS,GAAG,MAAM;QACtBjB,GAAG,CAACkB,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAEpB,MAAM,CAACK,KAAK,EAAEL,MAAM,CAACM,MAAM,CAAC;QAC/CJ,GAAG,CAACsB,WAAW,GAAG,CAAC;QACnBtB,GAAG,CAACiB,SAAS,GAAG,MAAM;QACtBjB,GAAG,CAACgB,IAAI,GAAG,sBAAsB;QACjChB,GAAG,CAACuB,SAAS,GAAG,QAAQ;QACxBvB,GAAG,CAACwB,YAAY,GAAG,QAAQ;QAC3BxB,GAAG,CAACoB,QAAQ,CAAC,oBAAoB,EAAEtB,MAAM,CAACK,KAAK,GAAG,CAAC,EAAEL,MAAM,CAACM,MAAM,GAAG,CAAC,CAAC;QACvEJ,GAAG,CAACqB,OAAO,CAAC,CAAC;MACf;IACF,CAAC;IAEDxB,WAAW,CAAC,CAAC;IAEb,MAAMK,GAAG,GAAGtB,QAAQ,CAACmB,OAAO;IAC5B,IAAI0B,QAAQ;IACZ,IAAIvB,GAAG,IAAIwB,MAAM,CAACC,cAAc,EAAE;MAChCF,QAAQ,GAAG,IAAIC,MAAM,CAACC,cAAc,CAAC9B,WAAW,CAAC;MACjD4B,QAAQ,CAACG,OAAO,CAAC1B,GAAG,CAAC;IACvB;IACA,IAAItB,QAAQ,CAACmB,OAAO,EAAEnB,QAAQ,CAACmB,OAAO,CAAC8B,YAAY,GAAGhC,WAAW;IAEjE,OAAO,MAAM;MACX,IAAI4B,QAAQ,IAAIvB,GAAG,EAAEuB,QAAQ,CAACK,SAAS,CAAC5B,GAAG,CAAC;MAC5C,IAAItB,QAAQ,CAACmB,OAAO,IAAInB,QAAQ,CAACmB,OAAO,CAAC8B,YAAY,EAAE,OAAOjD,QAAQ,CAACmB,OAAO,CAAC8B,YAAY;IAC7F,CAAC;EACH,CAAC,EAAE,CAACvC,OAAO,CAAC,CAAC;EAEb,MAAME,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI;MACF,MAAMuC,GAAG,GAAG,MAAMxD,GAAG,CAACyD,GAAG,CAAC,eAAe,CAAC;MAC1C,MAAMC,IAAI,GAAGF,GAAG,CAACG,IAAI,IAAIH,GAAG,CAACG,IAAI,CAACC,MAAM,GAAG,CAAC,GAAGJ,GAAG,CAACG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI;MACjEjD,cAAc,CAACgD,IAAI,GAAGA,IAAI,CAACG,OAAO,GAAG,cAAc,CAAC;IACtD,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdpD,cAAc,CAAC,oCAAoC,CAAC;MACpDqD,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACrD;EACF,CAAC;EAED,MAAM1C,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI;MACF,MAAMoC,GAAG,GAAG,MAAMxD,GAAG,CAACyD,GAAG,CAAC,kBAAkB,CAAC;MAC7C,MAAM;QAAEnB,IAAI;QAAE0B,UAAU;QAAEjC;MAAK,CAAC,GAAGyB,GAAG,CAACG,IAAI;MAC3C3C,UAAU,CAAC;QAAEsB,IAAI;QAAEP;MAAK,CAAC,CAAC;MAC1B,IAAIO,IAAI,IAAIA,IAAI,KAAK/B,cAAc,IAAI+B,IAAI,KAAK,SAAS,IAAIA,IAAI,KAAK,SAAS,EAAE;QAC/E9B,iBAAiB,CAAC8B,IAAI,CAAC;QACvB,MAAM2B,OAAO,GAAG,MAAM3B,IAAI,iCAAiC7B,WAAW,6BAA6B;QACnGyD,KAAK,CAACD,OAAO,CAAC;QACdrD,eAAe,CAACqD,OAAO,CAAC;QACxBE,OAAO,CAAC7B,IAAI,EAAE2B,OAAO,CAAC;MACxB,CAAC,MAAM,IAAI3B,IAAI,KAAK,SAAS,EAAE;QAC7B9B,iBAAiB,CAAC,EAAE,CAAC;QACrBI,eAAe,CAAC,EAAE,CAAC;MACrB;IACF,CAAC,CAAC,OAAOwD,GAAG,EAAE;MACZxD,eAAe,CAAC,sCAAsC,CAAC;MACvDJ,iBAAiB,CAAC,EAAE,CAAC;MACrBQ,UAAU,CAAC,IAAI,CAAC;MAChB+C,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEM,GAAG,CAAC;IACjD;EACF,CAAC;EAED,MAAMF,KAAK,GAAIG,IAAI,IAAK;IACtB,MAAMC,KAAK,GAAGnB,MAAM,CAACoB,eAAe;IACpC,MAAMC,SAAS,GAAG,IAAIrB,MAAM,CAACsB,wBAAwB,CAACJ,IAAI,CAAC;IAC3DG,SAAS,CAACE,IAAI,GAAG,OAAO;IACxBJ,KAAK,CAACJ,KAAK,CAACM,SAAS,CAAC;IACtB1D,aAAa,CAAC,IAAI,CAAC;IACnB0D,SAAS,CAACG,KAAK,GAAG,MAAM7D,aAAa,CAAC,KAAK,CAAC;EAC9C,CAAC;EAED,MAAMqD,OAAO,GAAG,MAAAA,CAAOS,IAAI,EAAEC,GAAG,KAAK;IACnC,IAAI;MACF,MAAM7E,GAAG,CAAC8E,IAAI,CAAC,UAAU,EAAE;QACzBC,MAAM,EAAE,OAAO;QACfC,QAAQ,EAAEJ,IAAI;QACdX,OAAO,EAAEY;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOT,GAAG,EAAE;MACZL,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEM,GAAG,CAAC;IAC3C;EACF,CAAC;EAED,oBACElE,OAAA;IAAK+E,SAAS,EAAC,qCAAqC;IAAAC,QAAA,gBAClDhF,OAAA;MAAK+E,SAAS,EAAC,gBAAgB;MAAAC,QAAA,eAC7BhF,OAAA;QAAK+E,SAAS,EAAC,6BAA6B;QAAAC,QAAA,gBAC1ChF,OAAA;UAAK+E,SAAS,EAAC,0EAA0E;UAAAC,QAAA,eACvFhF,OAAA,CAACJ,KAAK;YAACqF,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC,eACNrF,OAAA;UAAAgF,QAAA,gBACEhF,OAAA;YAAI+E,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAC;UAAyB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/ErF,OAAA;YAAG+E,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAC;UAA8C;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/F,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENrF,OAAA;MAAK+E,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBAEpDhF,OAAA;QAAK+E,SAAS,EAAC,qCAAqC;QAAAC,QAAA,gBAClDhF,OAAA;UACEsF,GAAG,EAAEnF,QAAS;UACdoF,GAAG,EAAC,kCAAkC;UACtCC,GAAG,EAAC,cAAc;UAClBT,SAAS,EAAC,0BAA0B;UACpCU,MAAM,EAAEA,CAAA,KAAM;YACZ,IAAItF,QAAQ,CAACmB,OAAO,IAAInB,QAAQ,CAACmB,OAAO,CAAC8B,YAAY,EAAE;cACrDjD,QAAQ,CAACmB,OAAO,CAAC8B,YAAY,CAAC,CAAC;YACjC;UACF;QAAE;UAAA8B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACFrF,OAAA;UAAQsF,GAAG,EAAElF,SAAU;UAAC2E,SAAS,EAAC;QAAyD;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3F,CAAC,eAGNrF,OAAA;QAAK+E,SAAS,EAAC,8CAA8C;QAAAC,QAAA,gBAC3DhF,OAAA;UAAAgF,QAAA,gBACEhF,OAAA;YAAI+E,SAAS,EAAC,0CAA0C;YAAAC,QAAA,gBACtDhF,OAAA,CAACH,KAAK;cAACkF,SAAS,EAAC;YAAM;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,yBAC5B;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACLrF,OAAA;YAAK+E,SAAS,EAAC,sDAAsD;YAAAC,QAAA,EAAEvE;UAAY;YAAAyE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvF,CAAC,eACNrF,OAAA;UAAK+E,SAAS,EAAC,+CAA+C;UAAAC,QAAA,GAAC,WACpD,eAAAhF,OAAA;YAAM+E,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAEzE;UAAW;YAAA2E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACnF,EAAA,CAzKuBD,eAAe;AAAAyF,EAAA,GAAfzF,eAAe;AAAA,IAAAyF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}