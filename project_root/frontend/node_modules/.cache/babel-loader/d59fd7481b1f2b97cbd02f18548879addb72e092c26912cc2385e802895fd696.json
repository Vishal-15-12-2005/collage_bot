{"ast":null,"code":"var _jsxFileName = \"D:\\\\project_root\\\\frontend\\\\src\\\\pages\\\\RobotView.jsx\",\n  _s = $RefreshSig$();\n// RobotView.jsx (Full Updated View with Dashboard Features)\nimport React, { useEffect, useState, useRef } from 'react';\nimport { FiAlertTriangle, FiSend, FiMessageSquare } from 'react-icons/fi';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport API, { fetchLiveChatLogs, robotAsk } from '../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = API.defaults.baseURL.replace('/api', '');\nexport default function RobotView() {\n  _s();\n  const [stats, setStats] = useState(null);\n  const [lastUpdated, setLastUpdated] = useState('');\n  const [fps, setFps] = useState(30);\n  const [chatLogs, setChatLogs] = useState([]);\n  const [chatInput, setChatInput] = useState('');\n  const [chatLoading, setChatLoading] = useState(false);\n  const [aiChat, setAiChat] = useState([]); // [{sender, message, isUser}]\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    fetchStats();\n    fetchRobotChats();\n    const interval = setInterval(() => {\n      fetchStats();\n      fetchRobotChats();\n      setLastUpdated(new Date().toLocaleTimeString());\n    }, 10000);\n    return () => clearInterval(interval);\n  }, []);\n  const fetchStats = async () => {\n    try {\n      const res = await API.get('/statistics');\n      setStats(res.data);\n    } catch (e) {\n      console.error('‚ùå Failed to fetch stats');\n    }\n  };\n\n  // Fetch all chat logs, filter for robot-user conversations\n  const fetchRobotChats = async () => {\n    try {\n      const res = await fetchLiveChatLogs();\n      // Filter: sender or receiver is 'robot', 'ai', 'assistant', case-insensitive\n      const robotNames = ['robot', 'ai', 'assistant'];\n      const logs = (res.data || []).filter(log => robotNames.includes((log.sender || '').toLowerCase()) || robotNames.includes((log.receiver || '').toLowerCase()));\n      setChatLogs(logs);\n    } catch (e) {\n      setChatLogs([]);\n    }\n  };\n\n  // AI Chat/Assistant logic\n  const handleChatSend = async e => {\n    e.preventDefault();\n    if (!chatInput.trim()) return;\n    setAiChat(prev => [...prev, {\n      sender: 'You',\n      message: chatInput,\n      isUser: true\n    }]);\n    setChatLoading(true);\n    try {\n      const res = await robotAsk(chatInput);\n      setAiChat(prev => [...prev, {\n        sender: 'AI',\n        message: res.data.response,\n        isUser: false\n      }]);\n    } catch (e) {\n      setAiChat(prev => [...prev, {\n        sender: 'AI',\n        message: 'Sorry, I could not process your request.',\n        isUser: false\n      }]);\n    } finally {\n      setChatInput('');\n      setChatLoading(false);\n      setTimeout(() => {\n        var _chatEndRef$current;\n        return (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n          behavior: 'smooth'\n        });\n      }, 100);\n    }\n  };\n  useEffect(() => {\n    setTimeout(() => {\n      var _chatEndRef$current2;\n      return (_chatEndRef$current2 = chatEndRef.current) === null || _chatEndRef$current2 === void 0 ? void 0 : _chatEndRef$current2.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }, 100);\n  }, [aiChat]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto p-4 fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-extrabold gradient-text tracking-tight\",\n        children: \"\\uD83E\\uDDE0 Robot Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-gray-400\",\n        children: [\"Last update: \", lastUpdated || 'Just now']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6 md:col-span-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"glass-card p-6 flex flex-col items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl font-bold text-indigo-500\",\n              children: stats ? stats.total_students : '--'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500\",\n              children: \"Students\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"glass-card p-6 flex flex-col items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl font-bold text-indigo-500\",\n              children: stats ? stats.total_staff : '--'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500\",\n              children: \"Staff\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"glass-card p-6 flex flex-col items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl font-bold text-indigo-500\",\n              children: stats ? stats.total_recognitions : '--'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500\",\n              children: \"Recognitions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"glass-card p-6 flex flex-col items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-2xl font-bold text-indigo-500\",\n              children: stats ? stats.accuracy_rate + '%' : '--'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500\",\n              children: \"Accuracy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"glass-card p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold mb-3\",\n            children: \"\\uD83D\\uDCCA System Stats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 220,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: stats ? [stats] : [],\n              margin: {\n                top: 10,\n                right: 30,\n                left: 0,\n                bottom: 0\n              },\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"label\",\n                tick: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"total_students\",\n                fill: \"#6366f1\",\n                name: \"Students\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"total_staff\",\n                fill: \"#a5b4fc\",\n                name: \"Staff\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"total_recognitions\",\n                fill: \"#818cf8\",\n                name: \"Recognitions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"glass-card p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold mb-3 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(FiMessageSquare, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 76\n            }, this), \" Robot Actions\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), chatLogs.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"No recent robot actions.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-2\",\n            children: chatLogs.slice(0, 5).map((log, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-sm text-gray-700 flex flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold text-indigo-600\",\n                children: [log.sender, \" \\u2192 \", log.receiver]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500\",\n                children: log.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 21\n              }, this)]\n            }, log.id || idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-card p-4 flex flex-col h-[600px] max-h-[80vh]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-bold mb-3 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(FiMessageSquare, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 74\n          }, this), \" Robot Chat Logs\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto pr-2\",\n          children: chatLogs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-400 text-center mt-8\",\n            children: \"No robot-user conversations yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-3\",\n            children: chatLogs.map((log, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"border-b pb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 text-xs text-gray-400 mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: new Date(log.timestamp).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-indigo-600\",\n                  children: log.sender\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-green-600\",\n                  children: log.receiver\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-gray-800 text-sm\",\n                children: log.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 21\n              }, this)]\n            }, log.id || idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-card p-4 mt-8 max-w-3xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold mb-2 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(FiMessageSquare, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 72\n        }, this), \" AI Chat Assistant\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-64 overflow-y-auto bg-white/60 rounded-lg p-3 mb-3 border border-gray-100 flex flex-col\",\n        children: [aiChat.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-400 text-center my-auto\",\n          children: \"Start a conversation with the AI assistant about the website, college, students, staff, or anything!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this) : aiChat.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: msg.isUser ? 'text-right' : 'text-left',\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'inline-block px-3 py-2 rounded-lg mb-1 ' + (msg.isUser ? 'bg-indigo-500 text-white ml-auto' : 'bg-gray-200 text-gray-800 mr-auto'),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold mr-2\",\n              children: [msg.sender, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this), \" \", msg.message]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 17\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: chatEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleChatSend,\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"flex-1 enhanced-input\",\n          placeholder: \"Type your message...\",\n          value: chatInput,\n          onChange: e => setChatInput(e.target.value),\n          disabled: chatLoading,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn-primary flex items-center gap-1 px-4\",\n          disabled: chatLoading || !chatInput.trim(),\n          children: [/*#__PURE__*/_jsxDEV(FiSend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), chatLoading ? 'Sending...' : 'Send']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-card p-6 text-xs bg-black/80 text-green-300 font-mono mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-bold mb-1\",\n        children: \"\\uD83D\\uDC1E Debug Console\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uD83C\\uDFA5 FPS: \", fps]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uD83D\\uDCE6 DB Sync: \\u2705 OK\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uD83E\\uDDE0 Last Update: \", lastUpdated]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(RobotView, \"78VAvLs6brRiSa69PPxfHdKXEEE=\");\n_c = RobotView;\nvar _c;\n$RefreshReg$(_c, \"RobotView\");","map":{"version":3,"names":["React","useEffect","useState","useRef","FiAlertTriangle","FiSend","FiMessageSquare","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","API","fetchLiveChatLogs","robotAsk","jsxDEV","_jsxDEV","API_URL","defaults","baseURL","replace","RobotView","_s","stats","setStats","lastUpdated","setLastUpdated","fps","setFps","chatLogs","setChatLogs","chatInput","setChatInput","chatLoading","setChatLoading","aiChat","setAiChat","chatEndRef","fetchStats","fetchRobotChats","interval","setInterval","Date","toLocaleTimeString","clearInterval","res","get","data","e","console","error","robotNames","logs","filter","log","includes","sender","toLowerCase","receiver","handleChatSend","preventDefault","trim","prev","message","isUser","response","setTimeout","_chatEndRef$current","current","scrollIntoView","behavior","_chatEndRef$current2","className","children","fileName","_jsxFileName","lineNumber","columnNumber","total_students","total_staff","total_recognitions","accuracy_rate","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","tick","fill","name","length","slice","map","idx","id","timestamp","toLocaleString","msg","ref","onSubmit","type","placeholder","value","onChange","target","disabled","required","_c","$RefreshReg$"],"sources":["D:/project_root/frontend/src/pages/RobotView.jsx"],"sourcesContent":["// RobotView.jsx (Full Updated View with Dashboard Features)\nimport React, { useEffect, useState, useRef } from 'react';\nimport { FiAlertTriangle, FiSend, FiMessageSquare } from 'react-icons/fi';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport API, { fetchLiveChatLogs, robotAsk } from '../utils/api';\n\nconst API_URL = API.defaults.baseURL.replace('/api', '');\n\nexport default function RobotView() {\n  const [stats, setStats] = useState(null);\n  const [lastUpdated, setLastUpdated] = useState('');\n  const [fps, setFps] = useState(30);\n  const [chatLogs, setChatLogs] = useState([]);\n  const [chatInput, setChatInput] = useState('');\n  const [chatLoading, setChatLoading] = useState(false);\n  const [aiChat, setAiChat] = useState([]); // [{sender, message, isUser}]\n  const chatEndRef = useRef(null);\n\n  useEffect(() => {\n    fetchStats();\n    fetchRobotChats();\n    const interval = setInterval(() => {\n      fetchStats();\n      fetchRobotChats();\n      setLastUpdated(new Date().toLocaleTimeString());\n    }, 10000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const fetchStats = async () => {\n    try {\n      const res = await API.get('/statistics');\n      setStats(res.data);\n    } catch (e) { console.error('‚ùå Failed to fetch stats'); }\n  };\n\n  // Fetch all chat logs, filter for robot-user conversations\n  const fetchRobotChats = async () => {\n    try {\n      const res = await fetchLiveChatLogs();\n      // Filter: sender or receiver is 'robot', 'ai', 'assistant', case-insensitive\n      const robotNames = ['robot', 'ai', 'assistant'];\n      const logs = (res.data || []).filter(\n        log => robotNames.includes((log.sender || '').toLowerCase()) || robotNames.includes((log.receiver || '').toLowerCase())\n      );\n      setChatLogs(logs);\n    } catch (e) {\n      setChatLogs([]);\n    }\n  };\n\n  // AI Chat/Assistant logic\n  const handleChatSend = async (e) => {\n    e.preventDefault();\n    if (!chatInput.trim()) return;\n    setAiChat(prev => [...prev, { sender: 'You', message: chatInput, isUser: true }]);\n    setChatLoading(true);\n    try {\n      const res = await robotAsk(chatInput);\n      setAiChat(prev => [...prev, { sender: 'AI', message: res.data.response, isUser: false }]);\n    } catch (e) {\n      setAiChat(prev => [...prev, { sender: 'AI', message: 'Sorry, I could not process your request.', isUser: false }]);\n    } finally {\n      setChatInput('');\n      setChatLoading(false);\n      setTimeout(() => chatEndRef.current?.scrollIntoView({ behavior: 'smooth' }), 100);\n    }\n  };\n\n  useEffect(() => {\n    setTimeout(() => chatEndRef.current?.scrollIntoView({ behavior: 'smooth' }), 100);\n  }, [aiChat]);\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-4 fade-in\">\n      <div className=\"flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-2\">\n        <h1 className=\"text-3xl font-extrabold gradient-text tracking-tight\">üß† Robot Dashboard</h1>\n        <span className=\"text-xs text-gray-400\">Last update: {lastUpdated || 'Just now'}</span>\n      </div>\n\n      {/* Main grid: stats + robot actions + chat logs */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {/* Left: System Stats + Robot Actions */}\n        <div className=\"space-y-6 md:col-span-2\">\n          {/* Stats Overview */}\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"glass-card p-6 flex flex-col items-center\">\n              <span className=\"text-2xl font-bold text-indigo-500\">{stats ? stats.total_students : '--'}</span>\n              <span className=\"text-gray-500\">Students</span>\n            </div>\n            <div className=\"glass-card p-6 flex flex-col items-center\">\n              <span className=\"text-2xl font-bold text-indigo-500\">{stats ? stats.total_staff : '--'}</span>\n              <span className=\"text-gray-500\">Staff</span>\n            </div>\n            <div className=\"glass-card p-6 flex flex-col items-center\">\n              <span className=\"text-2xl font-bold text-indigo-500\">{stats ? stats.total_recognitions : '--'}</span>\n              <span className=\"text-gray-500\">Recognitions</span>\n            </div>\n            <div className=\"glass-card p-6 flex flex-col items-center\">\n              <span className=\"text-2xl font-bold text-indigo-500\">{stats ? stats.accuracy_rate + '%' : '--'}</span>\n              <span className=\"text-gray-500\">Accuracy</span>\n            </div>\n          </div>\n\n          {/* Stats Graph */}\n          <div className=\"glass-card p-6\">\n            <h2 className=\"text-lg font-bold mb-3\">üìä System Stats</h2>\n            <ResponsiveContainer width=\"100%\" height={220}>\n              <BarChart data={stats ? [stats] : []} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"label\" tick={false} />\n                <YAxis />\n                <Tooltip />\n                <Bar dataKey=\"total_students\" fill=\"#6366f1\" name=\"Students\" />\n                <Bar dataKey=\"total_staff\" fill=\"#a5b4fc\" name=\"Staff\" />\n                <Bar dataKey=\"total_recognitions\" fill=\"#818cf8\" name=\"Recognitions\" />\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n\n          {/* Robot Actions (show last 5 robot-user chat logs) */}\n          <div className=\"glass-card p-6\">\n            <h2 className=\"text-lg font-bold mb-3 flex items-center gap-2\"><FiMessageSquare /> Robot Actions</h2>\n            {chatLogs.length === 0 ? (\n              <p className=\"text-gray-400\">No recent robot actions.</p>\n            ) : (\n              <ul className=\"space-y-2\">\n                {chatLogs.slice(0, 5).map((log, idx) => (\n                  <li key={log.id || idx} className=\"text-sm text-gray-700 flex flex-col\">\n                    <span className=\"font-semibold text-indigo-600\">{log.sender} ‚Üí {log.receiver}</span>\n                    <span className=\"text-gray-500\">{log.message}</span>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n\n        {/* Right: Robot-User Chat Logs */}\n        <div className=\"glass-card p-4 flex flex-col h-[600px] max-h-[80vh]\">\n          <h2 className=\"text-lg font-bold mb-3 flex items-center gap-2\"><FiMessageSquare /> Robot Chat Logs</h2>\n          <div className=\"flex-1 overflow-y-auto pr-2\">\n            {chatLogs.length === 0 ? (\n              <div className=\"text-gray-400 text-center mt-8\">No robot-user conversations yet.</div>\n            ) : (\n              <ul className=\"space-y-3\">\n                {chatLogs.map((log, idx) => (\n                  <li key={log.id || idx} className=\"border-b pb-2\">\n                    <div className=\"flex items-center gap-2 text-xs text-gray-400 mb-1\">\n                      <span>{new Date(log.timestamp).toLocaleString()}</span>\n                      <span>‚Ä¢</span>\n                      <span className=\"font-semibold text-indigo-600\">{log.sender}</span>\n                      <span>‚Üí</span>\n                      <span className=\"font-semibold text-green-600\">{log.receiver}</span>\n                    </div>\n                    <div className=\"text-gray-800 text-sm\">{log.message}</div>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* AI Chat/Assistant */}\n      <div className=\"glass-card p-4 mt-8 max-w-3xl mx-auto\">\n        <h2 className=\"text-lg font-bold mb-2 flex items-center gap-2\"><FiMessageSquare /> AI Chat Assistant</h2>\n        <div className=\"h-64 overflow-y-auto bg-white/60 rounded-lg p-3 mb-3 border border-gray-100 flex flex-col\">\n          {aiChat.length === 0 ? (\n            <div className=\"text-gray-400 text-center my-auto\">Start a conversation with the AI assistant about the website, college, students, staff, or anything!</div>\n          ) : (\n            aiChat.map((msg, idx) => (\n              <div key={idx} className={msg.isUser ? 'text-right' : 'text-left'}>\n                <div className={\n                  'inline-block px-3 py-2 rounded-lg mb-1 ' +\n                  (msg.isUser\n                    ? 'bg-indigo-500 text-white ml-auto'\n                    : 'bg-gray-200 text-gray-800 mr-auto')\n                }>\n                  <span className=\"font-semibold mr-2\">{msg.sender}:</span> {msg.message}\n                </div>\n              </div>\n            ))\n          )}\n          <div ref={chatEndRef} />\n        </div>\n        <form onSubmit={handleChatSend} className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            className=\"flex-1 enhanced-input\"\n            placeholder=\"Type your message...\"\n            value={chatInput}\n            onChange={e => setChatInput(e.target.value)}\n            disabled={chatLoading}\n            required\n          />\n          <button\n            type=\"submit\"\n            className=\"btn-primary flex items-center gap-1 px-4\"\n            disabled={chatLoading || !chatInput.trim()}\n          >\n            <FiSend />\n            {chatLoading ? 'Sending...' : 'Send'}\n          </button>\n        </form>\n      </div>\n\n      {/* Debug Console */}\n      <div className=\"glass-card p-6 text-xs bg-black/80 text-green-300 font-mono mt-8\">\n        <h2 className=\"font-bold mb-1\">üêû Debug Console</h2>\n        <p>üé• FPS: {fps}</p>\n        <p>üì¶ DB Sync: ‚úÖ OK</p>\n        <p>üß† Last Update: {lastUpdated}</p>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}